import React, { Component } from 'react';
import '../css/Navigation.css';

class Reset extends Component {

  render() {
    const field_state = this.props.field_state;
    let face;
    switch (field_state) {
      case 'EXPLORE':
        face = smile;
        break;
      case 'MARKING':
        face = smile;
        break;
      case 'GOAL':
        face = love;
        break;
      case 'GAMEOVER':
        face = die;
        break;
    }

    return(
      <div idName='facebot' className="Reset" onClick={() => this.props.onClick()}>
        {face}
      </div>
    )
  }

}

class AboutStage extends Component {
  render() {
    return(
      <div className="AboutStage">
        <h2>{this.props.stage}</h2>
      </div>
    );
  }
}

class AboutBombs extends Component {
  render() {
    return(
      <div className="AboutBombs">
        <p>Bomb's number</p><h2>{this.props.number}</h2>
      </div>
    );
  }
}

class Timer extends Component {
  constructor(props) {
    super(props);
    this.state = {
      initial: new Date(),
      now: new Date(),
    };
  }

  componentDidMount() {
    this.timerID = setInterval(
      () => this.tick(),
      1000
    );
  }

  componentWillUnmount() {
    clearInterval(this.timerID);
  }

  tick(state_name, time) {
    this.setState({
      now: new Date(),
    });
  }

  render() {
    const timer = new Date(this.state.now - this.state.initial)
    //console.log(timer);
    return(
      <div className="Timer">
        <h2>Time: {timer.toUTCString().slice(18,26)}</h2>
      </div>
    )
  }
}

class Navigation extends Component {
  render() {
    return(
      <div className="Navigation">
        <Reset field_state={this.props.field_state} onClick={() => this.props.onClick()}/>
        <AboutStage stage={this.props.stage}/>
        <AboutBombs number={this.props.bomb_number}/>
        <Timer />
      </div>
    );
  }
}


//face pattern exportしてもいいかもしれない...
let love =          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 126.24 113">
                      <g>
                        <g>
                          <path fill="#ffce00" d="M63.23,53.7a4.65,4.65,0,0,0,4.64-4.65V31.9a4.64,4.64,0,0,0-9.29,0V49.05A4.65,4.65,0,0,0,63.23,53.7Z"/>
                          <path fill="#ffce00" d="M4.93,72.08H9.12a56.42,56.42,0,0,0,108.5,0h3.68a4.94,4.94,0,0,0,4.93-4.93V43.91A4.94,4.94,0,0,0,121.3,39h-4.07L117,39A56.43,56.43,0,0,0,9.68,39,4.87,4.87,0,0,0,9,39H4.93A4.94,4.94,0,0,0,0,43.91V67.15A4.94,4.94,0,0,0,4.93,72.08ZM14.59,56.5a48.78,48.78,0,1,1,48.78,48.78A48.84,48.84,0,0,1,14.59,56.5Z"/>
                          <path fill="#ffce00" d="M63.47,96.06a40.69,40.69,0,0,0,39.66-32.17,3.5,3.5,0,0,0-3.43-4.22H27.23a3.5,3.5,0,0,0-3.43,4.22A40.69,40.69,0,0,0,63.47,96.06ZM95.1,66.67a33.54,33.54,0,0,1-63.26,0Z"/>
                          <path fill="#e05955" d="M38.74,47.93a3.39,3.39,0,0,0,.34.24,3.5,3.5,0,0,0,2.75.4,3.54,3.54,0,0,0,.91-.38L43,48c3.68-2.38,14.54-10,14.56-17.37a7.86,7.86,0,0,0-3.85-6.68,12,12,0,0,0-6.23-1.87,9.86,9.86,0,0,0-6.58,2.55,9.86,9.86,0,0,0-6.58-2.55,11.93,11.93,0,0,0-6.17,1.83,7.9,7.9,0,0,0-3.91,6.72C24.29,37.89,35,45.49,38.74,47.93ZM32,29.73a5.07,5.07,0,0,1,2.31-.67c.49,0,2,0,3.48,2.87a3.5,3.5,0,0,0,6.21,0c1.5-2.87,3-2.87,3.48-2.87a5,5,0,0,1,2.37.71c.72.46.72.72.72.83,0,1.86-3.82,6.28-9.67,10.37-5.85-4.1-9.66-8.52-9.67-10.37C31.27,30.49,31.27,30.23,32,29.73Z"/>
                          <path fill="#e05955" d="M83.76,47.93l.34.24a3.5,3.5,0,0,0,2.75.4,3.54,3.54,0,0,0,.91-.38l.31-.2c3.68-2.38,14.54-10,14.56-17.37a7.86,7.86,0,0,0-3.85-6.68,12,12,0,0,0-6.23-1.87A9.86,9.86,0,0,0,86,24.61a9.86,9.86,0,0,0-6.58-2.55,11.92,11.92,0,0,0-6.17,1.83,7.9,7.9,0,0,0-3.91,6.72C69.31,37.9,80,45.49,83.76,47.93ZM77,29.75a5,5,0,0,1,2.34-.7c.49,0,2,0,3.48,2.87a3.5,3.5,0,0,0,6.21,0c1.5-2.87,3-2.87,3.48-2.87a5,5,0,0,1,2.37.71c.72.46.72.72.72.83,0,1.86-3.82,6.27-9.67,10.37-5.85-4.1-9.66-8.51-9.67-10.37C76.29,30.49,76.29,30.23,77,29.75Z"/>
                        </g>
                      </g>
                    </svg>
let smile =         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 126.24 113">
                      <g>
                        <g>
                          <path fill="#ffce00" d="M83.81,52.81a4.64,4.64,0,1,0-4.64-4.64A4.65,4.65,0,0,0,83.81,52.81Z"/>
                          <path fill="#ffce00" d="M42.79,52.81a4.64,4.64,0,1,0-4.64-4.64A4.65,4.65,0,0,0,42.79,52.81Z"/>
                          <path fill="#ffce00" d="M63.23,67.1a4.65,4.65,0,0,0,4.64-4.65V45.31a4.64,4.64,0,0,0-9.29,0V62.46A4.65,4.65,0,0,0,63.23,67.1Z"/>
                          <path fill="#ffce00" d="M121.3,39h-4.07l-.2,0A56.43,56.43,0,0,0,9.68,39,4.87,4.87,0,0,0,9,39H4.93A4.94,4.94,0,0,0,0,43.91V67.15a4.94,4.94,0,0,0,4.93,4.93H9.12a56.42,56.42,0,0,0,108.5,0h3.68a4.94,4.94,0,0,0,4.93-4.93V43.91A4.94,4.94,0,0,0,121.3,39Zm-57.93,66.3A48.78,48.78,0,1,1,112.15,56.5,48.83,48.83,0,0,1,63.37,105.28Z"/>
                          <path id="facebot-mouth" fill="#ffce00" d="M93.61,71.23c-.12.07-12,7-29.72,7A71.44,71.44,0,0,1,33,71.05a3.86,3.86,0,0,0-1.67-.38,3.89,3.89,0,0,0-1.67,7.4,79.56,79.56,0,0,0,34.39,8c19.7,0,33-7.87,33.58-8.21a3.89,3.89,0,0,0-4-6.67Z"/>
                        </g>
                      </g>
                    </svg>
let die =           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 126.24 113">
                      <g>
                        <g>
                          <path fill="#ffce00" d="M63.25,70.27c-19.68,0-33,7.87-33.58,8.21a3.89,3.89,0,0,0,4,6.67c.12-.07,12-7,29.72-7a71.45,71.45,0,0,1,30.9,7.19A3.87,3.87,0,0,0,96,85.7a3.91,3.91,0,0,0,3.51-2.22,3.89,3.89,0,0,0-1.84-5.18A79.55,79.55,0,0,0,63.25,70.27Z"/>
                          <path fill="#ffce00" d="M63.23,64.85a4.65,4.65,0,0,0,4.64-4.65V43a4.64,4.64,0,0,0-9.29,0V60.2A4.65,4.65,0,0,0,63.23,64.85Z"/>
                          <path fill="#ffce00" d="M121.3,39h-4.07l-.2,0A56.43,56.43,0,0,0,9.68,39,4.86,4.86,0,0,0,9,39H4.93A4.94,4.94,0,0,0,0,43.91V67.15a4.94,4.94,0,0,0,4.93,4.93H9.12a56.42,56.42,0,0,0,108.5,0h3.68a4.94,4.94,0,0,0,4.93-4.93V43.91A4.94,4.94,0,0,0,121.3,39ZM112.15,56.5A48.78,48.78,0,1,1,63.37,7.72,48.83,48.83,0,0,1,112.15,56.5Z"/>
                          <path fill="#ffce00" d="M97.57,37.69a3.5,3.5,0,0,0-4.93-.48l-4.92,4-4.92-4a3.5,3.5,0,0,0-4.44,5.41l3.84,3.15-3.84,3.15a3.5,3.5,0,1,0,4.44,5.41l4.92-4,4.92,4a3.5,3.5,0,1,0,4.44-5.41l-3.84-3.15,3.84-3.15A3.5,3.5,0,0,0,97.57,37.69Z"/>
                          <path fill="#ffce00" d="M29.8,53.85a3.5,3.5,0,0,0,4.93.48l4.92-4,4.92,4A3.5,3.5,0,0,0,49,48.92l-3.84-3.15L49,42.61a3.5,3.5,0,1,0-4.44-5.41l-4.92,4-4.92-4a3.5,3.5,0,1,0-4.44,5.41l3.84,3.15-3.84,3.15A3.5,3.5,0,0,0,29.8,53.85Z"/>
                        </g>
                      </g>
                    </svg>


export default Navigation;
